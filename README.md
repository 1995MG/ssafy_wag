# 팀명: WAG : We Are Groot



### 00. 개요 및 실행

#### 개요

- 최근에 리뷰를 작성한 영화를 기반으로 새로운 영화를 추천하고 커뮤니티를 통해 영화에 대한 각종 이야기를 나눌 수 있는 웹 애플리케이션 제작

#### 실행

- front

  - ```bash
    npm install i
    npm run serve
    ```

- back

  - ```bash
    pip install -r requirements.txt
    python manage.py makemigrations
    python manage.py migrate
    python manage.py loaddata data.json
    python manage.py runserver
    ```
    
    

### 01. 팀원 정보 및 업무 분담 내역

#### 팀원 정보

- 팀장: 서울 3반 최상진
- 팀원: 서울 3반 서민기

#### 업무 분담

- 최상진: front 담당 / Vue.js / Django REST API 활용 / 웹 디자인 / 데이터베이스 모델링
- 서민기: back 담당 / Django REST API 서버 구축 / 알고리즘 코딩 / 영화 데이터 가공



### 02. 목표 서비스 구현 및 실제 구현 정도

#### 목표 서비스

- 정보 기반 영화 추천 웹 애플리케이션
- 영화에 대한 평점과 간단한 리뷰 작성
- 영화에 대한 각종 정보와 이야기를 공유할 수 있는 커뮤니티

#### 실제 구현 정도

- 최근 리뷰를 작성한 영화를 기반으로 감독, 주연배우, 장르와 관련된 영화를 추천하는 알고리즘 구현
- 홈 페이지에서 영화리스트를 보고 영화에 대한 디테일 페이지에서 각 영화의 평점과 리뷰를 남길 수 있음
- 커뮤니티 페이지에서 글을 작성하고 좋아요 및 댓글 기능 구현



### 03. 데이터베이스 모델링(ERD)

![erd](README.assets/erd.jpg)

### 04. 필수 기능

#### 관리자 뷰

- 관리자 권한의 유저가 영화 등록 / 수정 / 삭제 할 수 있음
- 관리자 권한의 유저만 유저 관리 권한을 가짐
- 장고에서 기본적으로 제공하는 admin 기능을 이용하여 구현

#### 회원가입 및 로그인

- Django의 User model을 이용하여 Vue.js에서 회원가입 및 로그인 폼을 만들어 기능 구현
- JWT토큰 방식으로 사용자 인증 구현

#### 영화정보

- TMDB사이트의 오픈API를 활용하여 데이터베이스 구축
- 인기순으로 정렬된 영화 1000개의 데이터를 받아와 주연배우, 감독에 대한 정보를 따로 API에 요청하여 데이터에 추가함
- 주연배우의 출연작과 감독의 작품을 다시 인기순으로 정렬하여 'filmography' key의 value 값으로 두개씩 추가
- 로그인 된 유저들은 각 영화에 대해 평점 등록 / 리뷰 작성 / 삭제 등을 할 수 있으며 마음에 드는 리뷰에 좋아요를 누르고 평점순이나 날짜순으로 정렬된 리뷰를 볼 수 있음

- 직접 구축한 Django REST API 서버에 요청을 보내 영화리스트를 받아 영화를 인기순 혹은 평점순으로 정렬하여 볼 수 있음
- 영화 제목을 키워드로 검색하여 결과를 보여줌

#### 추천 알고리즘

- 현재 갖고있는 영화 데이터베이스의 모든 영화에서 랜덤으로 5개 추천

- 마지막으로 평점을 등록한 영화를 기반으로 같은 장르의 영화 중 가장 인기있는 5편과 주연배우 2명의 인기작 각 2편, 감독의 인기작 2편을 모아 랜덤으로 5개 영화 추천

  

#### 커뮤니티

- 영화 정보와 관련된 대화를 나눌 수 있는 커뮤니티 기능 구현
- 로그인한 사용자만 글을 작성할 수 있으며 작성자 본인만 글을 수정 / 삭제 하도록 만듦
- 각 게시글에는 댓글을 작성할 수 있고 게시글에 대한 좋아요 및 댓글에 대한 좋아요 기능 구현
- 게시글 리스트를 최신순이나 좋아요순으로 정렬할 수 있고, 게시글에 대한 검색 기능을 추가함



### 05. 웹 페이지 

#### Home

![홈페이지](README.assets/홈페이지.png)



#### 영화 추천

![영화추천](README.assets/영화추천.png)



#### 영화 디테일

![영화디테일](README.assets/영화디테일.png)



#### 커뮤니티

![커뮤니티](README.assets/커뮤니티.png)



#### 프로필

![프로필](README.assets/프로필.png)



### 06. 느낀점

- 최상진
  - ㅁㄴㅇ
  
- 서민기
  - 싸피 한학기의 마무리로 최종프로젝트를 끝마쳤다. 한학기동안 Django와 Javascript, Vue.js등 많은 것을 이론으로 다뤘는데 이번 프로젝트를 진행하면서 처음부터 끝까지 직접 코드를 짜다보니 이해가 잘 되지 않던 개념들을 따로 공부하면서 확실히 이해할 수 있었고, 수업을 들으면서 놓쳤던 많은 부분들이 보였다. 
  
    특히, serializers와 관련된 개념들에 대해 처음 수업을 들을 때는 serializer가 사용되는 상황을 잘 이해하지 못하여 왜 serializer를 해야하는지 몰랐는데, 직접 서버와 클라이언트를 구축하면서 직렬화 작업이 꼭 필요하다는 것을 깨달았다. 보안과 관련해서도 매주 금요일 간단한 프로젝트를 할 때는 크게 신경쓰지 않았는데 직접 배포하는 서비스를 만든다는 생각으로 프로젝트를 진행하면서 내가 만든 서버가 얼마나 보안에 취약한지 깨닫게 되었다. 그래서  JWT토큰 인증방식을 사용하고, API요청 시 GET, PUT, DELETE, POST 요청을 각각 구분하여 필요한 요청만 받을 수 있도록 하거나 Vue.js에서 JWT토큰을 decoding 하여 User정보를 비교하여 불필요한 권한에 접근하지 못하도록 세세한 부분까지 신경쓰며 코드를 짜려고 노력했다.
  
    그리고 처음으로 오픈API에서 받아 온 데이터를 가공하여 새롭게 JSON파일로 만드는 작업을 했다. 처음엔 오픈API에서 받아 온 데이터를 그대로 쓰려고 했는데, 막상 추천서비스를 구현하려고 하다 보니 데이터를 가공하지 않을 수 없었다. 그래서 데이터를 우리의 입맛대로 바꾸기 위해 마치 코딩테스트 문제를 풀듯이 코드를 짰는데 여러 시행착오를 거쳐 내가 원하는 데이터 형식이 나오면 굉장히 짜릿했다. 또한, 데이터의 양이 많아질 수록, 데이터의 변환이 클 수록 데이터 작업시간이 길어진다는 점도 생각치 못했던 부분이라 다음부터는 좀 더 신경쓰면 좋을 것 같다.
  
    처음 프로젝트를 시작하면서 요구사항을 분석하고 설계하면서 굉장히 막막했는데 코드를 짜기 시작하면서 열심히 구글링을 하다보니 재미도 붙고 실력도 늘고있는 기분이라 굉장히 뿌듯했다. 앞으로 더욱 다양한 프로젝트를 경험하면서 더 많은 것을 배워보고 싶다. 싸피에서의 한학기를 멋지게 마무리 할 수 있었던 프로젝트였다고 생각한다.
